<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>App</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <style>
        #title {
            margin-bottom: 0;
        }
        #artist {
            margin-top: 0;
        }
        #albumArt {
            width: 150px;
            height: 150px;
        }
        #streamurl, #downloadurl {
            font-family: monospace;
            font-weight: bold;
        }
    </style>

</head>
<body>
    
    <h1 id="title"></h1>
    <h3 id="artist"></h3>
    <img id="albumArt" src="">
    <p>Steamable URL: <span id="streamurl"></span></p>
    <p>Downloadable URL: <span id="downloadurl"></span></p>
    
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script src="http://connect.soundcloud.com/sdk.js"></script>
    <script>
        // initialize client with app credentials
        SC.initialize({
            client_id: '5833455462fac11c7b4ed7dd05c6b54a',
            redirect_uri: 'http://www.austinj.net/sc-app/callback.html'
        });
        
        var sound = prompt("Enter the URL of the sound:");
        //https://soundcloud.com/kristofferson/stop-crying-your-heart-out
        
        $.get('http://api.soundcloud.com/resolve.json?url='+sound+'&client_id=5833455462fac11c7b4ed7dd05c6b54a', function (result) {
            console.log(result);
            SC.stream('/tracks/'+result.id, function(sound) { 
                console.log(sound);
                sound.play();
            });
            document.getElementById("title").innerHTML = result.title;
            document.getElementById("artist").innerHTML = result.user.username;
            document.getElementById("albumArt").setAttribute("src",result.artwork_url);
            document.getElementById("streamurl").innerHTML = result.stream_url;
            document.getElementById("downloadurl").innerHTML = result.download_url;
        });

        
    </script>
</body>
</html>
